---
title: 『詳解 Terraform 第3版』を翻訳しました
author: doublemarket
layout: post
categories:
  - Books
---

『[詳解 Terraform 第3版](https://www.oreilly.co.jp/books/9784814400522/)』という本が本日2023年11月21日、オライリー・ジャパンから出版されました。米O'Reillyから出版されている『[Terraform: Up and Running, 3rd edition](https://www.terraformupandrunning.com/)』を私が日本語訳したものです。この本は原著の初版が出版された頃からぜひ自分で翻訳したいと思っていたので、やっとここに至れて個人的にとても嬉しいです。

<center><img border="1" src="/images/2023-11-21-terraform-up-and-running-ja/terraform-ja.jpeg"></center>

- 目次（詳細は[オライリーのページ](https://www.oreilly.co.jp/books/9784814400522/#toc)へ）
  - 第1章 なぜTerraformを使うのか
  - 第2章 Terraformをはじめよう
  - 第3章 Terraformステートを管理する
  - 第4章 モジュールで再利用可能なインフラを作る
  - 第5章 Terraformを使うためのヒントとコツ: ループ、条件分岐、デプロイ、その他のつまずきポイント
  - 第6章 シークレットを管理する
  - 第7章 複数のプロバイダを使う
  - 第8章 本番レベルのTerraformコード
  - 第9章 Terraformのコードをテストする
  - 第10章 チームでTerraformを使う
- [Amazonの書籍詳細](https://www.amazon.co.jp/dp/4814400527/)

帯などにはTerraform 1.0対応とありますが、より詳しく言うと原著はTerraform 1.2までの変更が含まれており、かつ日本語版ではTerraform 1.5までの変更（原稿を仕上げたのが1.6発表の直前でした）に関しても訳注としてできるだけ情報を追加しています。ちなみに第3版とありますが、翻訳の元になった原著が第3版なためで、日本語ではこれが最初の版です。

基本的にはAWSにリソースを作るチュートリアル形式で、インスタンスを1台デプロイする非常に短いコードから始まり、徐々にそこにリソースを追加していくような流れで進んでいきます。

とは言え、目次を見ていただくと分かるように単に文法を学んでいくだけではなく、Terraformをチームで使ったり複雑な使い方をしていくと必ず突き当たるであろう問題に対するベストプラクティスを提示する流れにもなっています。この本で取り上げられているこういったテクニックやベストプラクティスの主な点をいくつか抜粋すると次のようなところでしょうか。

- 開発、ステージング、本番と環境が増えていくときのステートファイルの管理
- Terraformコードを保存するリポジトリのディレクトリ構造をどうするか
- モジュールはどういう時に使い、どう分けるべきか、どの程度の粒度にすべきか
- リファクタリングの注意点
- パスワードなどのシークレット管理
- AWSとAzure、あるいはAWSの複数のリージョンといった複数のプロバイダの扱い方
- テスト
  - 1.6で導入されたterraform testは含まれませんが、プランテスト、terratest、インフラ(E2E)テストなどが含まれます。
- 開発プロセスあるいはCI/CDへの組み込み

これに加え第10章の冒頭ではTerraformを使っていないチームにTerraformを導入する場合の根回しの流れが書いてあるのですが、この記述がTerraformに限らず新しいツールや技術をチーム内で導入しようとした時の一般的あるある例になっており、個人的には面白かったです。

著者のYevgeniy Brikman氏は、Terraformを活用したインフラの構築運用などを手掛けるGruntwork社の創業者でありCTOです。この本はそのビジネスを通じた経験を元にして書かれており、Terraform導入にかかるコミュニケーション的な側面も、Terraformを使って顧客に対しサービスを提供してきた経験からくる知識でもあるのでしょう。また、長年Terraformコミュニティに貢献してきた人でもあります。

一方で、最近のTerraformのライセンス変更から始まった論争の中では、いち早くライセンス変更に異議を唱えており、その論争に端を発しTerraformからフォークされたOpenTofuプロジェクトの発起人の1人でもあります。

そのあたりからもうかがえるように、Terraformとそれを取り巻くエコシステムはやや先が見えない時代を迎えているとも言えますが、以前と比べると多くの人に使われるようになっており、その意味ではこれまでにない安定した時期を迎えているとも言えます。この本は、現時点のTerraformを使いこなそうと考える人に対しては、幅広い分野をカバーしており決定版と言っていいでしょう。今まで、日本のTerraformコミュニティの広がりに比べると広い範囲をカバーした日本語書籍は少ない印象でしたが、この本がさらに日本のTerraformユーザを増やす一助になればと思います。

